"use strict";photoChallengeApp.factory("dataProvider",function(){function r(n,t){var r=new i;r.fetch().then(function(t){n(t)},t)}function u(t,i){var u=new Parse.File(t.name,{base64:t.file.substring(22)}),r;return u.save().then(),r=new n,r.set("name",i.name),r.set("birthDate",i.birthDate),r.set("parentName",i.parentName),r.set("parentEmail",i.parentEmail),r.set("comment",i.comment),r.set("votes",0),r.set("approved",!0),r.set("image",u),r}function f(n,t,i,r){var f=u(t,n);f.save(null,{success:i,error:r})}function e(n,i){var r=Parse.Object.extend("AppInfo"),u=new Parse.Query(r);u.get(t).then(function(t){n(t.attributes)},i)}function o(n,t,i){Parse.User.logIn(n.name,n.password,{success:t,error:i})}function s(t){var i=new Parse.Query(n);i.get(t.id,function(n){n.increment("votes");n.save()},function(){console.warn("No such object found!")})}function h(t,i){var r=new Parse.Query(n);r.get(t.id,function(n){var t=n.get("approved");n.set("approved",!t);n.save();i()},function(){console.warn("No such object found!")})}function c(){return Parse.User.current()}function l(){Parse.User.logOut()}Parse.initialize("CVFCJEo18KfSQfZQLAqORiMmudofkPJBUXs4K2MO","U0aaCJempusTAu2OovjXONHVByIa062S6T9KdjHI");var t="KPGaT826oM",n=Parse.Object.extend("Participant"),i=Parse.Collection.extend({model:n});return{getAppInfo:e,getAllParticipants:r,saveParticipant:f,loginUser:o,checkIfUserAlreadyLoggedIn:c,logout:l,incrementVotes:s,toggleApproval:h}});
/*
//# sourceMappingURL=parse-data-service.min.js.map
*/